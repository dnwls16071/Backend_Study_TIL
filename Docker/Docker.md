# Docker

### ✅Docker CLI

* 이미지 다운로드 : `docker pull [이미지명]`
* 이미지 조회 : `docker image ls`
* 이미지 삭제 : `docker image rm [-f] [이미지명]`
* 컨테이너 생성 및 실행 : 
  * `docker create [이미지명]`
  * `docker start [컨테이너 ID]`
* 컨테이너 중단 및 삭제
  * `docker stop [컨테이너 ID]`
  * `docker rm [컨테이너 ID]`
* 컨테이너 이미지 다운로드 및 생성/실행
  * `docker run [이미지명]` : 포그라운드 실행
  * `docker run -d [이미지명]` : 백그라운드 실행
* 호스트 포트와 컨테이너 포트 바인딩하기
  * `docker run -d -p [호스트 포트 번호]:[컨테이너 포트 번호] [이미지명]`
* 실행 중인 컨테이너 조회 : `docker ps`
* 중단된 컨테이너를 포함한 모든 컨테이너 조회 : `docker ps -a`
* 도커 컨테이너 종료 : `docker stop [컨테이너 ID]`
* 도커 컨테이너 로그 조회 : `docker logs [컨테이너 ID]`
* 실행 중인 도커 컨테이너 내부에 접속 : `docker exec -it [컨테이너 ID] bash`

![img.png](image/img.png)

* Docker Container가 어떻게 동작하는지에 대한 전체 프로세스를 이해
  * 클라이언트는 사용 중인 호스트 컴퓨터의 포트 번호 4000번으로 접속을 하게 되면 호스트 컴퓨터 내부의 컨테이너인 nginx 컨테이너의 포트 번호인 80번과 바인딩이 되면서 연결이 정상적으로 이루어진다.
  * 단, 클라이언트가 호스트 컴퓨터 내부의 nginx 컨테이너의 포트 번호 80번으로 직접 접속을 시도하게 되면 연결이 정상적으로 이루어지지 않는다.

![img_1.png](image/img_1.png)

* Docker Container가 어떻게 동작하는지에 대한 전체 프로세스를 이해
  * 호스트 컴퓨터의 6379번 포트와 컨테이너 내부의 6379번 포트를 바인딩하여 연결이 정상적으로 이루어진다.
  * 클라이언트가 호스트 컴퓨터의 6379번 포트로 접속을 하게 되면 컨테이너 내부의 레디스에 접근할 수 있게 된다.

